#:kivy 1.10.0

#:import HSbutton CustomWidgets.HSButton
#:import HSLabel CustomWidgets.HSLabel
#:import HSTextInput CustomWidgets.HSTextInput

<Main_Menu>:
	name: 'MainMenu'
	FloatLayout:
		title: 'Main Menu'
		canvas:
			Color:
				rgb: 1, 1, 1
			Rectangle:
				source: 'Resources/background.jpg'
				size: self.size

					
		BoxLayout:

			orientation: 'vertical'
			size: self.parent.size
			pos: self.parent.pos
			
			Image: 
				source: 'Resources/logo_text.png'
			
			GridLayout:
				cols: 3	
				size: self.parent.size
				pos: self.parent.pos
			
				BoxLayout:	#formatting only
				
				BoxLayout: #center 
					size: self.parent.size  
					pos: self.parent.pos  	
					orientation: 'vertical'
					padding: 10
					spacing: 10
					
					HSButton:
						text: 'Generate'
						on_press: root.manager.current = 'Generate_Setup'

					HSButton:
						text: 'Train'
						on_press: root.manager.current = 'Training_Setup'
						
					HSButton:
						text: 'Card Manager'
						on_press: root.manager.current = 'Card_Manager'
						
					BoxLayout:	#formatting only
				BoxLayout:	#formatting only

<Training_Setup>:
	name: 'Training_Setup'
	RelativeLayout:
		title: 'Training Setup'
		canvas:
			Color:
				rgb: 1, 1, 1
			Rectangle:
				source: 'Resources/background.jpg'
				size: self.size
		
		
		BoxLayout:	
			size: self.parent.size  
			pos: self.parent.pos  
			orientation: 'vertical'
			
			HSLabel:
				size: self.parent.size  
				pos: self.parent.pos  
				font_size: 30
				text: 'Training Setup'
				size_hint_y: 0.1

				
			BoxLayout:
				size: self.parent.size  
				pos: self.parent.pos  
				orientation: 'horizontal'
				padding: 50
				spacing: 20
				
				BoxLayout:
					canvas.before:
						Color:
							rgba: 0.4, 0.37, 0.32, 0.8  # blue
						Rectangle:
							pos: self.pos
							size: self.size		
					size: self.parent.size  
					pos: self.parent.pos  
					orientation: 'vertical'
									
					HSLabel:
						size_hint_x: .5	
						size_hint_y: .1
						text: 'Training Data Stats'
					
					GridLayout:
						cols: 2
						padding: 10 
						spacing: 20
						
						HSLabel:
							text: 'Data Directory'
							size_hint_x: .5	
							pos: self.parent.pos
							##on_release: root.showFileChooser()
							
						HSDirInput: 	
							text:  str(root.dataPath)
							on_text: root.dataPathChange(self.text)
							##size: self.parent.size  
							pos: self.parent.pos
							on_release: root.showFileChooser()
							
							
						HSLabel:
							text: 'Number of Files'	
							size_hint_x: .5	 
							pos: self.parent.pos						
							
						HSTextInput: 
							id: txt_numOfFiles
							text: str(root.numOfFiles)
							hint_text: 'Number of training files'	
							size: self.parent.size  
							pos: self.parent.pos
							active: False							
							
							
						HSLabel:
							text: 'Total Data Size'
							size: self.parent.size  
							pos: self.parent.pos						
							
						HSTextInput: 
							id: txt_DataSize
							text: str(root.fileSizes)
							hint_text: 'Total Data Size'
							size: self.parent.size  
							pos: self.parent.pos						
					
							
						HSButton:
							text: 'Get Latest Cards'
							font_size: 12
							size: self.parent.size  
							pos: self.parent.pos						
							on_release: root.getLastestCards()
							
						HSButton: 	
							text: 'Get Cards by Parameter'
							font_size: 12
							size: self.parent.size  
							pos: self.parent.pos
							on_release: root.getCardsByParam()								
						
				BoxLayout:
					canvas.before:
						Color:
							rgba: 0.4, 0.37, 0.32, 0.8  # blue
						Rectangle:
							pos: self.pos
							size: self.size

					size: self.parent.size  
					pos: self.parent.pos  
					orientation: 'vertical'
					
					HSLabel:
						size_hint_x: .5	
						size_hint_y: .1
						text: 'Neural Network Stats'
					
					GridLayout:
						cols: 2
						padding: 10 
						spacing: 20
						
						HSLabel:
							text: 'Number of Layers: '
							size: self.parent.size  
							pos: self.parent.pos						
							
						HSNumericInput: 	
							id: txt_nLayersID
							text:  str(root.nLayers)
							hint_text: 'Number of Layers'	
							on_text: root.nLayersChange(self)
							min: 1
							max: 10
							#tooltiptext: 'Test tool tip'
							input_type: 'number'
							size: self.parent.size  
							pos: self.parent.pos
							size_hint_x: .5					
							
						HSLabel:
							text: 'Internal Size: '	
							size: self.parent.size  
							pos: self.parent.pos						
							
						HSNumericInput:
							id: txt_intSizeID
							text:  str(root.internalSize)
							hint_text: 'Internal Size'
							on_text: root.internalSizeChange(self)
							min: 256
							max: 2048						
							size: self.parent.size  
							pos: self.parent.pos
							size_hint_x: .5								
							
						HSLabel:
							text: 'Learning Rate: '
							size: self.parent.size  
							pos: self.parent.pos						
							
						HSNumericInput: 
							id: txt_learningRateID
							text:  str(root.learningRate)
							hint_text: 'Learning Rate'
							on_text: root.learningRateChange(self)
							min: 0.00001
							max: 0.5
							size: self.parent.size  
							pos: self.parent.pos						
							size_hint_x: .5		
							
						HSLabel:
							text: 'Epochs: '	
							size: self.parent.size  
							pos: self.parent.pos						
							
						HSNumericInput: 
							id: txt_epochID
							text:  str(root.epochs)
							hint_text: 'Epochs'
							on_text: root.epochsChange(self)

							size: self.parent.size  
							pos: self.parent.pos						
							size_hint_x: .5		
			GridLayout:
				cols: 3
				size_hint_y: .3
				BoxLayout:
					orientation: 'horizontal'
					BoxLayout:
					HSButton:
						##font_name: 'Roboto'
						size: self.parent.size  
						pos: self.parent.pos	
						on_press: root.manager.current = 'MainMenu'
						text: 'Back' 
						##text: u'\u21A9' ## unicode for back arrow
					BoxLayout:
					BoxLayout:
				HSButton:
					text: 'Start Training'
					##on_release: app.trainingSetup.btnStartTraining(self)
					##on_release: root.showNNStats()
					on_release: root.testingFunction()
				BoxLayout:
				BoxLayout:
				BoxLayout:	

<Generate_Setup>:
	name: 'Generate_Setup'
	RelativeLayout:
		title: 'Generate Setup'
		canvas:
			Color:
				rgb: 1, 1, 1
			Rectangle:
				source: 'Resources/background.jpg'
				size: self.size
		
		
		BoxLayout:	
			size: self.parent.size  
			pos: self.parent.pos  
			orientation: 'vertical'
			
			HSLabel:
				size: self.parent.size  
				pos: self.parent.pos  
				font_size: 30
				text: 'Generate Setup'
				size_hint_y: 0.1

				
			BoxLayout:
				size: self.parent.size  
				pos: self.parent.pos  
				orientation: 'horizontal'
				padding: 50
				spacing: 20
				
				BoxLayout:
					canvas.before:
						Color:
							rgba: 0.4, 0.37, 0.32, 0.8  # blue
						Rectangle:
							pos: self.pos
							size: self.size		
					size: self.parent.size  
					pos: self.parent.pos  
					orientation: 'vertical'
									
					HSLabel:
						size_hint_x: .5	
						size_hint_y: .1
						text: 'Data Stats'
					
					GridLayout:
						cols: 2
						padding: 10 
						spacing: 20
						
						HSLabel:
							text: 'Output Directory'
							size_hint_x: .5	
							pos: self.parent.pos
							##on_release: root.showFileChooser()
							
						HSDirInput: 	
							text:  str(root.outputDir)
							on_text: root.outputPathChange(self.text)
							##size: self.parent.size  
							pos: self.parent.pos
							on_release: root.showOutputDirChooser()

						HSLabel:
							text: 'Num of Chars'
							size_hint_x: .5	
							pos: self.parent.pos
							##on_release: root.showFileChooser()
							
						HSNumericInput: 	
							text:  str(root.numOfChars)
							on_text: root.numOfCharsChange(self)
							##size: self.parent.size  
							pos: self.parent.pos

							
					
						
				BoxLayout:
					canvas.before:
						Color:
							rgba: 0.4, 0.37, 0.32, 0.8  # blue
						Rectangle:
							pos: self.pos
							size: self.size

					size: self.parent.size  
					pos: self.parent.pos  
					orientation: 'vertical'
					
					HSLabel:
						size_hint_x: .5	
						size_hint_y: .1
						text: 'Neural Network Stats'
					
					GridLayout:
						cols: 2
						padding: 10 
						spacing: 20
						
						HSLabel:
							text: 'Checkpoint File'
							size_hint_x: .5	
							pos: self.parent.pos
							##on_release: root.showFileChooser()
							
						HSDirInput: 	
							text:  str(root.checkpointFile)
							on_text: root.checkpointFileChange(self.text)
							##size: self.parent.size  
							pos: self.parent.pos
							on_release: root.showCheckpointFileChooser()		
						
						HSLabel:
							text: 'Number of Layers: '
							size: self.parent.size  
							pos: self.parent.pos						
							
						HSNumericInput: 	
							id: txt_nLayersID
							text:  str(root.nLayers)
							hint_text: 'Number of Layers'	
							on_text: root.nLayersChange(self)
							min: 1
							max: 10
							#tooltiptext: 'Test tool tip'
							input_type: 'number'
							size: self.parent.size  
							pos: self.parent.pos
							size_hint_x: .5					
							
						HSLabel:
							text: 'Internal Size: '	
							size: self.parent.size  
							pos: self.parent.pos						
							
						HSNumericInput:
							id: txt_intSizeID
							text:  str(root.internalSize)
							hint_text: 'Internal Size'
							on_text: root.internalSizeChange(self)
							min: 256
							max: 2048						
							size: self.parent.size  
							pos: self.parent.pos
							size_hint_x: .5			
							
							

			GridLayout:
				cols: 3
				size_hint_y: .3
				BoxLayout:
					orientation: 'horizontal'
					BoxLayout:
					HSButton:
						##font_name: 'Roboto'
						size: self.parent.size  
						pos: self.parent.pos	
						on_press: root.manager.current = 'MainMenu'
						text: 'Back' 
						##text: u'\u21A9' ## unicode for back arrow
					BoxLayout:
					BoxLayout:
				HSButton:
					text: 'Start Generating'
					##on_release: app.trainingSetup.btnStartTraining(self)
					##on_release: root.showNNStats()
					on_release: root.btnStartGenerating(self)
				BoxLayout:
				BoxLayout:
				BoxLayout:	
				
<Card_Manager>:
	name: 'Card_Manager'
	RelativeLayout:
		title: 'Training Setup'
		canvas:
			Color:
				rgb: 1, 1, 1
			Rectangle:
				source: 'Resources/background.jpg'
				size: self.size
		
		
		BoxLayout:	
			size: self.parent.size  
			pos: self.parent.pos  
			orientation: 'vertical'
			padding: 10
			
			BoxLayout:
				size: self.parent.size  
				pos: self.parent.pos  
				orientation: 'horizontal'
			
			HSButton:
				##pos: self.parent.pos  
				size_hint_y: .2
				size_hint_y: .3
				text: 'Main Menu'
				on_press: root.manager.current = 'MainMenu'
			


				
